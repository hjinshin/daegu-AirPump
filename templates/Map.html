<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<title>대구 공기주입기</title>
	<script>
		var array = {{ value|tojson }};
	</script>
</head>
<body>
	<div id="map" style="width:800px;height:500px;"></div>
	<div id="clickLatlng"></div>
	<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=8c5fa7da273fc0214005a6dcc6bac440&libraries=services"></script>
	<script>
	var mapContainer = document.getElementById('map'), // 지도를 표시할 div
    mapOption = {
        center: new kakao.maps.LatLng(35.85, 128.56), // 지도의 중심좌표
        level: 8 // 지도의 확대 레벨
    };

	var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

	// 주소-좌표 변환 객체를 생성합니다
	var geocoder = new kakao.maps.services.Geocoder();

	for (var i = 0; i < 10000; i++)
	{
		// 주소로 좌표를 검색합니다
		geocoder.addressSearch(array[i], function(result, status) {

			// 정상적으로 검색이 완료됐으면
				if (status === kakao.maps.services.Status.OK) {

					addMarker(new kakao.maps.LatLng(result[0].y, result[0].x));
				}
		});
	}
	// 지도에 표시된 마커 객체를 가지고 있을 배열입니다
	var markers = [];
	// 마커를 생성하고 지도위에 표시하는 함수입니다
	function addMarker(position) {

		// 마커를 생성합니다
		var marker = new kakao.maps.Marker({
			position: position
		});

		// 마커가 지도 위에 표시되도록 설정합니다
		marker.setMap(map);

		// 생성된 마커를 배열에 추가합니다
		markers.push(marker);
	}

	// 배열에 추가된 마커들을 지도에 표시하거나 삭제하는 함수입니다
	function setMarkers(map) {
		for (var i = 0; i < markers.length; i++) {
			markers[i].setMap(map);
		}
		document.write(makers.length);
	}
	</script>
</body>
</html>